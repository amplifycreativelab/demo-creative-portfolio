---
import styles from "./ButtonEnhanced.module.css";

const { href, variant = "primary", size = "md", type = "button", ...rest } = Astro.props;
const Tag = href ? "a" : "button";
const className = `${styles.button} ${styles[variant] || styles.primary} ${styles[size] || styles.md}`;
---

<Tag 
  class={className} 
  href={href} 
  type={href ? undefined : type} 
  {...rest}
>
  <span class={styles.buttonContent}>
    <span class={styles.buttonText}><slot /></span>
    <span class={styles.buttonIcon} aria-hidden="true">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <polyline points="12 5 19 12 12 19"></polyline>
      </svg>
    </span>
  </span>
  <span class={styles.buttonFill}></span>
</Tag>
